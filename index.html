
<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Leke - Tienda</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600&display=swap" rel="stylesheet">
<style>
    body {
  background-color: #F4ECFA;
  color: #4A4A4A;
  font-family: 'League Spartan', sans-serif;
  margin: 0;
  padding: 0;
}
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 40px;
    }
    .brand-logo {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

.brand-logo img {
  max-width: 220px;
  width: 100%;
  height: auto;
}
    .product img {
  width: 180px;
  height: auto;
  object-fit: cover;
  border-radius: 8px;
}
    .product {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 24px;
  border: 1px solid #D6CBE8;
  background-color: #FFFFFF;
  border-radius: 12px;
  padding: 16px;
}
    .info {
      flex-grow: 1;
      padding: 10px;
    }
    .info p {
  font-size: 14px;
  margin: 6px 0;
  line-height: 1.4;
}
    .form-section {
      margin-top: 40px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select, textarea {
  width: 100%;
  padding: 10px;
  font-family: inherit;
  margin-top: 5px;
  border: 1px solid #D6CBE8;
  border-radius: 8px;
  background-color: #FBF8FE;
  color: #4A4A4A;
}
    button {
  margin-top: 20px;
  padding: 14px;
  width: 100%;
  font-size: 16px;
  font-weight: bold;
  background-color: #B89AD9;
  color: #FFFFFF;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background-color: #9E7CCB;
    }
  
    @media screen and (max-width: 600px) {
  .product {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
}
@media screen and (min-width: 900px) {
  .product img {
    width: 100%;
    max-width: 260px;
    height: auto;
  }
}
      .category-header {
  background: #FFFFFF;
  border: 1px solid #D6CBE8;
  border-radius: 10px;
  padding: 14px;
  margin: 16px 0 8px;
  font-weight: 600;
  cursor: pointer;
}

.category-content {
  display: none;
}


/* =========================
   CARRITO ‚Äì CSS LIMPIO
========================= */

#carritoContainer button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  font-weight: 600;
  background: #fff;
  color: #4A4A4A;
  border: 1px solid #D6CBE8;
  border-radius: 10px;
}

#carritoDetalle {
  display: none;
  margin-top: 12px;
  padding: 12px;
  border: 1px solid #D6CBE8;
  border-radius: 12px;
  background: #FFFFFF;
}

#cartItems {
  list-style: none;
  padding: 0;
  margin: 0;
}

#cartItems li {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #F4ECFA;
  padding: 10px 12px;
  border-radius: 10px;
  margin-bottom: 8px;
}

.cart-item-text {
  flex: 1;
  font-size: 14px;
  color: #4A4A4A;
  line-height: 1.3;
  word-break: break-word;
}

.remove-btn {
  background: #ff4444;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 13px;
  cursor: pointer;
  white-space: nowrap;
}

.remove-btn:hover {
  background: #e60000;
}

#totalPedido {
  margin-top: 12px;
  font-size: 16px;
  font-weight: 600;
  color: #4A4A4A;
  text-align: right;
}
/* ===== FIX DEFINITIVO TEXTO CARRITO ===== */

#cartItems li {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
}

.cart-item-text {
  flex: 1;
  min-width: 0;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: anywhere;
}

#cartItems li {
  display: flex;
  align-items: flex-start;
}

.cart-item-text {
  flex: 1;
  min-width: 0;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: anywhere;
}
/* ===== FIX CARRITO IG / MOBILE ===== */

#carritoDetalle {
  width: 100%;
}

#cartItems li {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  text-align: left;        /* CLAVE */
}

.cart-item-text {
  flex: 1;
  min-width: 0;            /* CLAVE */
  white-space: normal;     /* CLAVE */
  word-break: normal;
  overflow-wrap: break-word;
  text-align: left;
}

/* Bot√≥n eliminar estable */
.remove-btn {
  flex-shrink: 0;
}
#notification {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #4CAF50;
  color: white;
  padding: 14px 22px;
  border-radius: 14px;
  font-size: 16px;
  font-weight: 600;
  z-index: 2000;
  display: none;
  white-space: nowrap;   /* una sola l√≠nea */
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

</style>
</head>
<body><div id="notification">Se agreg√≥ al carrito</div>
<div class="container">
<div class="brand-logo">
  <img src="https://i.imgur.com/Rnt7Mqo.png" alt="Leke">
</div>
<form id="orderForm">
<div id="products" class="products"></div>
<div class="form-section">
<div id="carritoContainer" style="margin-top: 20px;">
<button onclick="toggleCarrito()" style="width: 100%; padding: 10px; font-size: 16px; font-weight: bold; background: #fff; color: #000; border: none; border-radius: 5px; text-align: center;" type="button">üõí Ver pedido</button>
<div id="carritoDetalle" style="display:none; margin-top:10px; border: 1px solid #fff; padding: 10px; text-align:center;">
<ul id="cartItems" style="list-style:none; padding:0;"></ul>
<p id="totalPedido" style="margin-top:10px;"><strong>Total: $0</strong></p>
</div>
</div><label>Nombre</label>
<input id="name" required="" type="text"/>
<label>Direcci√≥n</label>
<input id="address" required="" type="text"/>
<label>Entre calles</label>
<input id="cross" required="" type="text"/>
<label>Aclaraciones</label>
<textarea id="notes" rows="2"></textarea>
<label>M√©todo de pago</label>
<select id="paymentMethod" required="">
<option value="">Eleg√≠ una opci√≥n</option>
<option value="efectivo">Efectivo</option>
<option value="transferencia">Transferencia</option>
</select>
<button style="background-color: #25D366; color: #fff; font-weight: bold; font-size: 18px; padding: 15px; width: 100%; border: none; border-radius: 5px; margin-top: 20px;" type="submit">Enviar pedido por WhatsApp</button>
</div>
</form>
</div>
<script>
const productsData = [
     {
    name: "Cookie New York Oreo",
    category: "Cookies",
    description: "Con chips de chocolate y relleno con galletita oreo.",
    image: "https://i.imgur.com/7oW14Of.jpeg",
    options: [
      "Unidad $3200",
    ]
  },
    {
    name: "Cookie New York 3 chocolates",
    category: "Cookies",
    description: "Con chips de chocolate semiamargo, blanco y con leche",
    image: "https://i.imgur.com/sEt8Pjt.jpeg",
    options: [
      "Unidad $2800",
    ]
  },
    {
    name: "Cookie New York de Pistacho",
    category: "Cookies",
    description: "Con pistachos picados y rellena con pasta de pistacho.",
    image: "https://i.imgur.com/p4ATDzt.jpeg",
    options: [
      "Unidad $6500",
    ]
  },
  {
    name: "Box cookies con dip de chocolate",
    category: "Cookies",
    description: "Incluye 15 cookies + dip de salsa de chocolate. Ideal para compartir",
    image: "https://i.ibb.co/5h3mvZss/box-cokiees.jpg",
    options: [
      "Unidad $15000",
    ]
  },
  {
    name: "Pan integral",
    category: "Productos integrales",
    description: "Pan integral, elaborado artesanalmente. Ideal para desayunos y meriendas. Se conserva en heladera (9 d√≠as) o freezer (3 meses). Peso: 600g.",
    image: "https://i.imgur.com/HwHmwXy.jpeg",
    options: [
      "Unidad $3600",
      "Unidad cortado $4600",
      "Promo 3 unidades $10000",
      "Promo 3 unidades cortadas $13000"
    ]
  },
  {
    name: "Fosforitos rellenos de jam√≥n y queso",
    category: "Catering",
    description: "M√°s de 4 docenas: Encargar con 7 d√≠as de anticipaci√≥n. ",
    image: "https://i.imgur.com/lHOa0zA.jpeg",
    options: [
      "12 unidades $23.000"
    ]
  },
  {
    name: "Prepizza integral",
    category: "Productos integrales",
    description: "Pre pizza integral de tomate. Cocinar 5 min con queso + toppings. Freezer: 3 meses.",
    image: "https://i.imgur.com/KM3M6T7.png",
    options: [
      "Unidad $3300",
      "Promo 5 unidades $15000"
    ]
  },
  {
    name: "Premezcla de chocolate para bizcochuelo y cookies",
    category: "Productos integrales",
    description: "Mezclar con 1¬Ω taza de leche y ¬º taza de aceite. Agregar frutas o nueces opcional. Hornear 45 min a 180¬∞C.",
    image: "https://i.imgur.com/lHGDMTX.png",
    options: [
      "Unidad $3500"
    ]
  },
  {
    name: "Chipa congelado",
    category: "Congelados",
    description: "Chipa de 30g c/u. Aprox. 35 por kilo. Hornear 20 min a 220¬∞C sin descongelar.",
    image: "https://i.imgur.com/ih1A0aS.png",
    options: [
      "1 kg $11200",
      "4 kg $42000",
      "7 kg $72000",
      "10 kg $99900"
    ]
  },
  {
    name: "Chipa sandwich",
    category: "Congelados",
    description: "Hornear 20 min a 220¬∞C. Dejar enfriar 5 min antes de cortar. Ideal para rellenar con lo que m√°s te guste.",
    image: "https://i.imgur.com/D3wLxvh.png",
    options: [
      "10 unidades $22000",
      "50 unidades $99900"
    ]
  },
  {
    name: "Cookielada",
    category: "Congelados",
    description: "Tubo de cookies congeladas de avena, chocolate y nuez. Cortar y hornear 15-20 min a 180¬∞C.",
    image: "https://i.imgur.com/bqGg251.png",
    options: [
      "Unidad $8000",
      "Promo 4 unidades $30000"
    ]
  }
];

const container = document.getElementById("products");
let cart = [];


const categories = [...new Set(productsData.map(p => p.category))];

categories.forEach(cat => {
  const section = document.createElement("div");
  section.className = "category";

  section.innerHTML = `
    <div class="category-header" onclick="toggleCategory(this)">
      ${cat}
    </div>
    <div class="category-content"></div>
  `;

  container.appendChild(section);

  const content = section.querySelector(".category-content");

  productsData
    .filter(p => p.category === cat)
    .forEach((prod, i) => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${prod.image}" alt="${prod.name}">
        <div class="info">
          <p><strong>${prod.name}</strong></p>
          <p>${prod.description}</p>
          <label>Opci√≥n</label>
          <select id="product${Math.random()}">
            <option value="">Eleg√≠ una opci√≥n</option>
            ${prod.options.map(opt => `<option value="${opt}">${opt}</option>`).join("")}
          </select>
          <label>Cantidad</label>
          <select id="qty${Math.random()}">
            ${[...Array(10)].map((_, n) => `<option value="${n+1}">${n+1}</option>`).join("")}
          </select>
          <button type="button" onclick="addToCartByName('${prod.name}', this)">Agregar al carrito</button>
        </div>
      `;
      content.appendChild(div);
    });
});



document.getElementById("orderForm").addEventListener("submit", function(e) {
  e.preventDefault();
  if (cart.length === 0) {
    alert("Agreg√° al menos un producto al carrito.");
    return;
  }

  let message = "Hola! Quiero hacer un pedido:%0A";
  let total = 0;

  cart.forEach(item => {
    message += `- ${item.name} ${item.option} x${item.qty}%0A`;
    const price = parseInt(item.option.split("$")[1].replace(/[^0-9]/g, ""));
    total += price * item.qty;
  });

  message += `%0Aüßæ Total: $${total}%0A`;
  message += `üßç Nombre: ${document.getElementById("name").value}%0A`;
  message += `üìç Direcci√≥n: ${document.getElementById("address").value}%0A`;
  message += `üöß Entre calles: ${document.getElementById("cross").value}%0A`;
  message += `üìù Aclaraciones: ${document.getElementById("notes").value}%0A`;
  const payment = document.getElementById("paymentMethod").value;
  message += `üí≥ M√©todo de pago: ${payment}%0A`;
  if (payment === "transferencia") {
    message += `%0ADatos para transferir:%0Aüî∏ Alias: leke.arg%0Aüî∏ Titular: Brenda de Oar%0A`;
  }

  window.open(`https://wa.me/541153107714?text=${message}`, "_blank");
});

function showNotification() {
  const notif = document.getElementById("notification");
  notif.style.display = "block";
  setTimeout(() => notif.style.display = "none", 2000);
}


function removeFromCart(index) {
  cart.splice(index, 1);
  updateCartUI();
}


function toggleCarrito() {
  const detalle = document.getElementById("carritoDetalle");
  detalle.style.display = detalle.style.display === "none" ? "block" : "none";
}


function addToCart(index) {
  const prod = productsData[index];
  const option = document.getElementById("product" + index).value;
  const qty = parseInt(document.getElementById("qty" + index).value);
  if (!option) return alert("Seleccion√° una opci√≥n v√°lida.");
  cart.push({ name: prod.name, option, qty });
  updateCartUI();
  showNotification();
}




function updateCartUI() {
  const cartList = document.getElementById("cartItems");
  const totalText = document.getElementById("totalPedido");
  cartList.innerHTML = "";
  let total = 0;
  cart.forEach((item, index) => {
    const price = parseInt(item.option.split("$")[1].replace(/[^0-9]/g, ""));
    total += price * item.qty;
    const li = document.createElement("li");
    li.innerHTML = `
      <span class='cart-item-text'>${item.name} x${item.qty} ${item.option}</span>
      <button class='remove-btn' onclick='removeFromCart(${index})'>Eliminar</button>`;
    cartList.appendChild(li);
  });
  totalText.innerHTML = `<strong>Total: $${total}</strong>`;
}
function toggleCategory(header) {
  const content = header.nextElementSibling;
  const isOpen = content.style.display === "block";

  // Cerrar todas las categor√≠as
  document.querySelectorAll(".category-content").forEach(c => {
    c.style.display = "none";
  });

  // Si no estaba abierta, la abrimos y scrolleamos al inicio
  if (!isOpen) {
    content.style.display = "block";

    header.scrollIntoView({
      behavior: "smooth",
      block: "start"
    });
  }
}


function addToCartByName(name, btn) {
  const product = productsData.find(p => p.name === name);
  const selects = btn.parentElement.querySelectorAll("select");
  const option = selects[0].value;
  const qty = parseInt(selects[1].value);

  if (!option) return alert("Seleccion√° una opci√≥n v√°lida.");

  cart.push({ name: product.name, option, qty });
  updateCartUI();
  showNotification();
}

</script>
</body>
</html>
